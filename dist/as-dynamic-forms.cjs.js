"use strict";
/*!
 * @asigloo/vue-dynamic-forms v3.x.x
 * (c) 2021 Alvaro Saburido
 * @license MIT
 */Object.defineProperty(exports,"__esModule",{value:!0}),exports[Symbol.toStringTag]="Module";var e=require("vue");const o=e=>!!e&&e.constructor===Object,t=e=>null!=e&&""!==e,r=e=>Object.keys(e).filter((o=>null!=e[o])).reduce(((o,t)=>"object"==typeof e[t]?{...o,[t]:r(e[t])}:{...o,[t]:e[t]}),{}),n=e=>{let o,t,r;if("object"!=typeof e||null===e)return e;for(r in o=Array.isArray(e)?[]:{},e)t=e[r],o[r]=n(t);return o};function l(o,t){const n=e.ref(!1),l=e.computed((()=>o.control.validations.some((e=>"required"===e.type)))),a=e.computed((()=>o.control.validations.length>0));async function i(e=!1){if(e||(o.control.touched||o.control.dirty)&&a.value){let e={};const l=[],a=[];o.control.validations.forEach((e=>{const t=e.validator(o.control.value);"Promise"===t.constructor.name?a.push({validation:e.validator,text:e.text}):l.push({validation:t,text:e.text})})),a.length>0&&(n.value=!0,Promise.all(a.map((async({validation:e,text:t})=>({validation:await e(o.control.value),text:t})))).then((l=>{l.forEach((({validation:o,text:t})=>{const[r,n]=Object.entries(o)[0];e[r]=n?{value:n,text:t}:null})),n.value=!1,t("validate",{name:o.control.name,errors:e,valid:0===Object.keys(r(e)).length})}))),l.forEach((({validation:o,text:t})=>{if(o){const[r,n]=Object.entries(o)[0];e[r]=n?{value:n,text:t}:null}})),t("validate",{name:o.control.name,errors:e,valid:0===Object.keys(r(e)).length})}}const u=e.computed((()=>{var e;const t=Object.values((null==(e=o.control)?void 0:e.errors)||{});return t.length>0?t.map((e=>e.text)):[]})),s=e.computed((()=>[{"form-control--success":!n.value&&a.value&&o.control.errors&&o.control.valid&&o.control.dirty&&o.control.touched},{"form-control--error":!n.value&&!o.control.valid,"form-control--validating":n.value}])),c=e.computed((()=>[{"checkbox-group--success":!n.value&&a.value&&o.control.errors&&o.control.valid&&o.control.dirty&&o.control.touched},{"checkbox-group--error":!n.value&&!o.control.valid,"checkbox-group--validating":n.value}])),d=e.computed((()=>[{"radio-group--success":!n.value&&a.value&&o.control.errors&&o.control.valid&&o.control.dirty&&o.control.touched},{"radio-group--error":!n.value&&!o.control.valid,"radio-group--validating":n.value}]));return e.watch((()=>o.forceValidation),(e=>{e&&i(e)})),{isPendingValidation:n,validate:i,getValidationClasses:s,getCheckboxValidationClasses:c,getRadioValidationClasses:d,isRequired:l,requiresValidation:a,errorMessages:u}}var a,i;function u(o,r){const{validate:n,getValidationClasses:a,getCheckboxValidationClasses:i,getRadioValidationClasses:u}=l(o,r);const s=e.computed((()=>["form-control",...a.value])),c=e.computed((()=>["checkbox-group",...i.value])),d=e.computed((()=>["radio-group",...u.value]));return e.watch((()=>{var e;return null==(e=null==o?void 0:o.control)?void 0:e.value}),((e,t)=>{e!==t&&r("change",{name:o.control.name,value:o.control.value})}),{immediate:!0}),{validate:n,onFocus:function(){r("focus",{name:o.control.name})},onInput:function(e){const l=e.target;e.stopImmediatePropagation(),o.control&&t(l.value)&&((!o.control.valid&&o.control.validationTrigger.type===exports.ValidationTriggerTypes.BLUR||o.control.validationTrigger.type===exports.ValidationTriggerTypes.CHANGE&&l.value.length>=o.control.validationTrigger.threshold)&&n(),r("change",{name:o.control.name,value:l.value}))},onChange:function(e){e.stopImmediatePropagation(),e.preventDefault()},onBlur:function(){r("blur",{name:o.control.name}),o.control.validationTrigger.type===exports.ValidationTriggerTypes.BLUR&&n()},onCheck:function(e){const t=e.target;o.control&&(e.stopImmediatePropagation(),r("change",{name:o.control.name,value:t.checked}))},getClasses:s,getCheckboxClasses:c,getRadioClasses:d}}exports.ValidationTriggerTypes=void 0,(a=exports.ValidationTriggerTypes||(exports.ValidationTriggerTypes={})).BLUR="blur",a.CHANGE="change",exports.FieldTypes=void 0,(i=exports.FieldTypes||(exports.FieldTypes={})).TEXT="text",i.TEXTAREA="textarea",i.SELECT="select",i.NUMBER="number",i.EMAIL="email",i.URL="url",i.PASSWORD="password",i.CHECKBOX="checkbox",i.RADIO="radio",i.CUSTOM="custom-field",i.COLOR="color";const s={control:Object,forceValidation:{type:Boolean,default:!1}};var c=e.defineComponent({name:"asCheckboxInput",inheritAttrs:!1,props:s,setup(o,{emit:t}){const{onCheck:r,onFocus:n,onBlur:a,getCheckboxClasses:i}=u(o,t),{errorMessages:s,isPendingValidation:c,isRequired:d}=l(o,t),p=e.h("span",{ariaHidden:!0,class:"form-required-star"}," *"),v=[e.h("input",{name:o.control.name||"",type:o.control.type,id:o.control.name,disabled:o.control.disabled,class:"checkbox-control",value:o.control.value,checked:o.control.value,required:d.value,readonly:o.control.readonly,ariaRequired:d.value,ariaLabel:o.control.ariaLabel,ariaLabelledBy:o.control.ariaLabelledBy,onFocus:n,onBlur:a,onChange:r}),e.h("label",{class:["checkbox-label"],for:o.control.name},[o.control.label,d.value?p:""])];return()=>[e.h("div",{class:i.value,tabIndex:-1,role:"group"},v),c.value?null:e.h("div",{class:"form-errors"},s.value.map((o=>e.h("p",{class:"form-error"},o))))]}}),d=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:c}),p=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self,{}),v={exports:{}},m={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.isDate=function(e){return e instanceof Date},e.isEmpty=function(e){return 0===Object.keys(e).length};var r=e.isObject=function(e){return null!=e&&"object"===(void 0===e?"undefined":t(e))};e.properObject=function(e){return r(e)&&!e.hasOwnProperty?o({},e):e}}(m),function(e,o,t){function r(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}Object.defineProperty(o,"__esModule",{value:!0});var n=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},l=function e(o,l){if(o===l)return{};if(!(0,t.isObject)(o)||!(0,t.isObject)(l))return l;var a=(0,t.properObject)(o),i=(0,t.properObject)(l),u=Object.keys(a).reduce((function(e,o){return i.hasOwnProperty(o)?e:n({},e,r({},o,void 0))}),{});return(0,t.isDate)(a)||(0,t.isDate)(i)?a.valueOf()==i.valueOf()?{}:i:Object.keys(i).reduce((function(o,l){if(!a.hasOwnProperty(l))return n({},o,r({},l,i[l]));var u=e(a[l],i[l]);return(0,t.isObject)(u)&&(0,t.isEmpty)(u)&&!(0,t.isDate)(u)?o:n({},o,r({},l,u))}),u)};o.default=l,e.exports=o.default}(v,v.exports,m);var f={exports:{}};!function(e,o,t){function r(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}Object.defineProperty(o,"__esModule",{value:!0});var n=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},l=function e(o,l){if(o===l||!(0,t.isObject)(o)||!(0,t.isObject)(l))return{};var a=(0,t.properObject)(o),i=(0,t.properObject)(l);return Object.keys(i).reduce((function(o,l){if(a.hasOwnProperty(l)){var u=e(a[l],i[l]);return(0,t.isObject)(u)&&(0,t.isEmpty)(u)?o:n({},o,r({},l,u))}return n({},o,r({},l,i[l]))}),{})};o.default=l,e.exports=o.default}(f,f.exports,m);var b={exports:{}};!function(e,o,t){function r(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}Object.defineProperty(o,"__esModule",{value:!0});var n=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},l=function e(o,l){if(o===l||!(0,t.isObject)(o)||!(0,t.isObject)(l))return{};var a=(0,t.properObject)(o),i=(0,t.properObject)(l);return Object.keys(a).reduce((function(o,l){if(i.hasOwnProperty(l)){var u=e(a[l],i[l]);return(0,t.isObject)(u)&&(0,t.isEmpty)(u)?o:n({},o,r({},l,u))}return n({},o,r({},l,void 0))}),{})};o.default=l,e.exports=o.default}(b,b.exports,m);var y={exports:{}};!function(e,o,t){function r(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}Object.defineProperty(o,"__esModule",{value:!0});var n=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},l=function e(o,l){if(o===l)return{};if(!(0,t.isObject)(o)||!(0,t.isObject)(l))return l;var a=(0,t.properObject)(o),i=(0,t.properObject)(l);return(0,t.isDate)(a)||(0,t.isDate)(i)?a.valueOf()==i.valueOf()?{}:i:Object.keys(i).reduce((function(o,l){if(a.hasOwnProperty(l)){var u=e(a[l],i[l]);return(0,t.isObject)(u)&&(0,t.isEmpty)(u)&&!(0,t.isDate)(u)?o:n({},o,r({},l,u))}return o}),{})};o.default=l,e.exports=o.default}(y,y.exports,m);var h={exports:{}};!function(e,o,t,r,n){Object.defineProperty(o,"__esModule",{value:!0});var l=u(t),a=u(r),i=u(n);function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e,o){return{added:(0,l.default)(e,o),deleted:(0,a.default)(e,o),updated:(0,i.default)(e,o)}};o.default=s,e.exports=o.default}(h,h.exports,f.exports,b.exports,y.exports),function(e,o,t,r,n,l){Object.defineProperty(e,"__esModule",{value:!0}),e.detailedDiff=e.updatedDiff=e.deletedDiff=e.diff=e.addedDiff=void 0;var a=d(o),i=d(t),u=d(r),s=d(n),c=d(l);function d(e){return e&&e.__esModule?e:{default:e}}e.addedDiff=i.default,e.diff=a.default,e.deletedDiff=u.default,e.updatedDiff=s.default,e.detailedDiff=c.default}(p,v.exports,f.exports,b.exports,y.exports,h.exports);const g={dirty:!1,touched:!1,valid:!0,errors:null},x=({validations:e=[],label:o=null,ariaLabel:t=null,ariaLabelledBy:r=null,customClass:n=null,customStyles:l=null,disabled:a=!1,placeholder:i=null,autocomplete:u=null,readonly:s=!1,validationTrigger:c=C({type:exports.ValidationTriggerTypes.BLUR,threshold:0})})=>({validations:e,label:o,ariaLabel:t,ariaLabelledBy:r,customClass:n,customStyles:l,disabled:a,placeholder:i,autocomplete:u,readonly:s,validationTrigger:c}),O=({name:e,type:o,...t})=>({...t,name:e,type:o,...g}),C=({type:e,threshold:o})=>({type:e,threshold:o});const j=e=>e();function T(e,o=200){return function(e,o){return function(...t){e((()=>o.apply(this,t)),{fn:o,thisArg:this,args:t})}}(function(e){if(e<=0)return j;let o;return t=>{o&&clearTimeout(o),o=setTimeout(t,e)}}(o),e)}const B={form:{type:Object,required:!0}};var F=e.defineComponent({name:"asDynamicForm",props:B,setup(o,l){const{options:a}=K(),{controls:i,valueChange:u,formValues:s,handleSubmit:c,isValid:d,errors:v,deNormalizedScopedSlots:m,normalizedControls:f,formattedOptions:b,onBlur:y,onValidate:h,forceValidation:g,detectChanges:x,onOptionsChanged:C,validateAll:j,resetForm:B}=function(o,l,a){let i=n(e.toRaw(o.fields));const u=e.ref([]),s=e.ref({resetAfterSubmit:!0,...null==a?void 0:a.form,...null==o?void 0:o.options}),c=e.ref(!1),d=e.computed((()=>Object.keys(l.slots))),v=e.computed((()=>{const e={};return u.value.forEach((o=>{e[o.name]=o})),e})),m=e.computed((()=>!u.value.some((e=>!e.valid)))),f=e.computed((()=>r(u.value.reduce(((e,o)=>{const t={};return t[o.name]=o.type===exports.FieldTypes.NUMBER?parseFloat(`${o.value}`):o.value,{...e,...t}}),{})))),b=e.computed((()=>u.value?u.value.reduce(((e,o)=>{if((Object.keys(o.errors||{})||[]).length>0){const t={};return t[o.name]=o.errors,{...e,...t}}return e}),{}):{})),y=e.computed((()=>{const e=s.value;if(e){const{customClass:o,customStyles:t,method:r,netlify:n,netlifyHoneypot:l,autocomplete:a}=e;return{class:o,style:t,method:r,"data-netlify":n,"data-netlify-honeypot":l,autocomplete:a?"on":"off"}}}));function h(e=!1){const t=Object.entries(null==o?void 0:o.fields).map((([o,t])=>O(e?{...t,name:o,value:t.type!==exports.FieldTypes.CHECKBOX&&null}:{...t,name:o})))||[];o.fieldOrder?u.value=t.sort(((e,t)=>o.fieldOrder.indexOf(e.name)-o.fieldOrder.indexOf(t.name))):u.value=t,e&&x(f.value)}function g(e){return u.value.find((o=>o.name===e))}const x=T((function(e){l.emit("change",e)}),300);function C(){h(!0),c.value=!1}function j(){c.value=!0}return e.onMounted((()=>{h()})),{controls:u,mapControls:h,valueChange:function(e){if(t(e.value)){const o=g(e.name);o&&(o.value=e.value,o.dirty=!0),x(f.value)}},formValues:f,formOptions:s,handleSubmit:async function(){j(),await e.nextTick(),m.value?(l.emit("submitted",f.value),s.value.resetAfterSubmit&&C()):l.emit("error",b.value)},isValid:m,errors:b,deNormalizedScopedSlots:d,normalizedControls:v,formattedOptions:y,onBlur:function({name:e}){const o=g(e);o&&(o.touched=!0)},onValidate:function({name:e,errors:o,valid:t}){const n=g(e);n&&(n.errors=r({...n.errors,...o}),n.valid=t)},forceValidation:c,validateAll:j,findControlByName:g,resetForm:C,detectChanges:function(o){const t=p.diff(i,n(o));Object.entries(t).forEach((([e,o])=>{const t=g(e);t&&Object.entries(o).forEach((([e,o])=>{"options"===e||"validations"===e?Object.entries(o).forEach((([o,r])=>{t[e][o]={...t[e][o],...r}})):t[e]=o}))})),i=n(e.toRaw(o))},onOptionsChanged:function(e){Object.assign(s.value,e)}}}(o.form,l,a||{});return e.watch((()=>o.form.fields),(e=>{x(e)}),{deep:!0}),e.watch((()=>o.form.fields),(e=>{C(e)}),{deep:!0}),{controls:i,valueChange:u,formValues:s,handleSubmit:c,isValid:d,errors:v,deNormalizedScopedSlots:m,normalizedControls:f,formattedOptions:b,onBlur:y,onValidate:h,forceValidation:g,validateAll:j,resetForm:B}}});F.render=function(o,t,r,n,l,a){const i=e.resolveComponent("dynamic-input");return e.openBlock(),e.createBlock("form",e.mergeProps({class:"dynamic-form",novalidate:"",id:o.form.id,name:o.form.id},o.formattedOptions,{onSubmit:t[1]||(t[1]=e.withModifiers(((...e)=>o.handleSubmit&&o.handleSubmit(...e)),["prevent"]))}),[(e.openBlock(!0),e.createBlock(e.Fragment,null,e.renderList(o.controls,(t=>(e.openBlock(),e.createBlock(i,{key:t.name,control:t,forceValidation:o.forceValidation,onChange:o.valueChange,onBlur:o.onBlur,onValidate:o.onValidate},{customField:e.withCtx((t=>[(e.openBlock(!0),e.createBlock(e.Fragment,null,e.renderList(o.deNormalizedScopedSlots,(r=>(e.openBlock(),e.createBlock("div",{key:r,class:"custom-form-wrapper"},[t.control.name===r?e.renderSlot(o.$slots,r,{key:0,control:o.normalizedControls[r],onChange:t.onChange,onBlur:t.onBlur}):e.createCommentVNode("",!0)])))),128))])),_:2},1032,["control","forceValidation","onChange","onBlur","onValidate"])))),128))],16,["id","name"])};var k=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:F});const _={control:Object,forceValidation:{type:Boolean,default:!1}};var S=e.defineComponent({name:"asTextInput",inheritAttrs:!1,props:_,setup(o,{emit:t}){const{onInput:r,onChange:n,onFocus:a,onBlur:i,getClasses:s}=u(o,t),{isRequired:c,errorMessages:d,isPendingValidation:p}=l(o,t);return()=>[e.h("input",{id:o.control.name,name:o.control.name||"",type:o.control.type,class:s.value,value:o.control.value,disabled:o.control.disabled,placeholder:o.control.placeholder,required:c.value,readonly:o.control.readonly,autocomplete:o.control.autocomplete,ariaRequired:c.value,ariaLabel:o.control.ariaLabel,ariaLabelledBy:o.control.ariaLabelledBy,onFocus:a,onBlur:i,onInput:r,onChange:n}),p.value?null:e.h("div",{class:"form-errors"},d.value.map((o=>e.h("p",{class:"form-error"},o))))]}}),V=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:S});const w={control:Object,forceValidation:{type:Boolean,default:!1}};var L=e.defineComponent({name:"asSelectInput",inheritAttrs:!1,props:w,setup:(t,{emit:r})=>()=>{var n;const{onInput:a,onChange:i,onFocus:s,onBlur:c,getClasses:d}=u(t,r),{isRequired:p,errorMessages:v,isPendingValidation:m}=l(t,r),f=e.computed((()=>{var e,r,n;return o(null==(e=null==t?void 0:t.control)?void 0:e.options)?Object.values(null==(r=null==t?void 0:t.control)?void 0:r.options):null==(n=null==t?void 0:t.control)?void 0:n.options})),b=null==(n=null==f?void 0:f.value)?void 0:n.map((o=>e.h("option",{key:o[t.control.optionValue],value:o[t.control.optionValue],disabled:o.disabled},o[t.control.optionLabel])));return[e.h("select",{id:t.control.name,name:t.control.name||"",class:d.value,value:t.control.value,disabled:t.control.disabled,placeholder:t.control.placeholder,required:p.value,readonly:t.control.readonly,ariaLabel:t.control.ariaLabel,ariaLabelledBy:t.control.ariaLabelledBy,ariaRequired:p.value,onFocus:s,onBlur:c,onInput:a,onChange:i},b),m.value?null:e.h("div",{class:"form-errors"},v.value.map((o=>e.h("p",{class:"form-error"},o))))]}}),A=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:L});const I={control:Object,forceValidation:{type:Boolean,default:!1}};var P=e.defineComponent({name:"asTextAreaInput",inheritAttrs:!1,props:I,setup(o,{emit:t}){const{onInput:r,onChange:n,onFocus:a,onBlur:i,getClasses:s}=u(o,t),{isRequired:c,errorMessages:d,isPendingValidation:p}=l(o,t);return()=>[e.h("textarea",{id:o.control.name,name:o.control.name||"",class:s.value,value:o.control.value,rows:o.control.rows,cols:o.control.cols,disabled:o.control.disabled,placeholder:o.control.placeholder,required:c.value,autocomplete:o.control.autocomplete,readonly:o.control.readonly,ariaLabel:o.control.ariaLabel,ariaLabelledBy:o.control.ariaLabelledBy,ariaRequired:c.value,onFocus:a,onBlur:i,onInput:r,onChange:n}),p.value?null:e.h("div",{class:"form-errors"},d.value.map((o=>e.h("p",{class:"form-error"},o))))]}}),E=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:P});const R={control:Object,forceValidation:{type:Boolean,default:!1}};var M=e.defineComponent({name:"asRadioInput",inheritAttrs:!1,props:R,setup(o,{emit:t}){var r,n;const{onCheck:a,onInput:i,onFocus:s,onBlur:c,getRadioClasses:d}=u(o,t),{errorMessages:p,isPendingValidation:v}=l(o,t),m=null==(n=null==(r=null==o?void 0:o.control)?void 0:r.options)?void 0:n.map((t=>{var r,n,l;return e.h("div",{class:"radio-input"},[e.h("input",{name:(null==(r=null==o?void 0:o.control)?void 0:r.name)||"",type:null==(n=null==o?void 0:o.control)?void 0:n.type,id:t.key,disabled:t.disabled||(null==(l=null==o?void 0:o.control)?void 0:l.disabled),checked:o.control.value===t.key,class:["radio-control"],value:t.key,onFocus:s,onBlur:c,onInput:i,onCheck:a}),e.h("label",{class:["radio-label"],for:t.key},t.value)])}));return()=>[e.h("div",{class:d.value,tabIndex:-1,role:"group"},m),v.value?null:e.h("div",{class:"form-errors"},p.value.map((o=>e.h("p",{class:"form-error"},o))))]}}),q=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:M});const D={control:Object,forceValidation:{type:Boolean,default:!1}};var z=e.defineComponent({name:"asNumberInput",inheritAttrs:!1,props:D,setup(o,{emit:t}){const{onInput:r,onChange:n,onFocus:a,onBlur:i,getClasses:s}=u(o,t),{isRequired:c,errorMessages:d,isPendingValidation:p}=l(o,t);return()=>[e.h("input",{id:o.control.name,name:o.control.name||"",type:o.control.type,class:s.value,value:o.control.value,min:o.control.min,max:o.control.max,step:o.control.step,disabled:o.control.disabled,placeholder:o.control.placeholder,required:c.value,readonly:o.control.readonly,autocomplete:o.control.autocomplete,ariaLabel:o.control.ariaLabel,ariaLabelledBy:o.control.ariaLabelledBy,ariaRequired:c.value,onFocus:a,onBlur:i,onInput:r,onChange:n}),p.value?null:e.h("div",{class:"form-errors"},d.value.map((o=>e.h("p",{class:"form-error"},o))))]}}),N=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:z});const $={TextInputComponent:S,SelectInputComponent:L,TextAreaInputComponent:P,CheckboxInputComponent:c,RadioInputComponent:M,NumberInputComponent:z},U={control:{type:Object,required:!0},forceValidation:{type:Boolean,default:!1}};var H=e.defineComponent({name:"asDynamicInput",components:$,inheritAttrs:!1,props:U,setup(t,{emit:r,slots:n}){const{onFocus:l,onInput:a,onBlur:i}=u(t,r);let s;const d=e.computed((()=>({control:null==t?void 0:t.control,onChange:f,onBlur:e=>r("blur",e),onFocus:e=>r("focus",e),onValidate:e=>r("validate",e),forceValidation:t.forceValidation}))),p=e.computed((()=>{var e,o;return(null==(e=null==t?void 0:t.control)?void 0:e.label)&&"checkbox"!==(null==(o=null==t?void 0:t.control)?void 0:o.type)})),v=e.computed((()=>{var e;return"radio"===(null==(e=null==t?void 0:t.control)?void 0:e.type)})),m=e.computed((()=>{var e,r,n,l,a,i;const u=["dynamic-input","form-group",{"form-group--inline":(null==(e=null==t?void 0:t.control)?void 0:e.type)===exports.FieldTypes.CHECKBOX}];return(s=null==(r=null==t?void 0:t.control)?void 0:r.customClass)&&s.constructor===Array?[...u,...null==(n=null==t?void 0:t.control)?void 0:n.customClass]:o(null==(l=null==t?void 0:t.control)?void 0:l.customClass)?[...u,null==(a=null==t?void 0:t.control)?void 0:a.customClass]:[u,null==(i=null==t?void 0:t.control)?void 0:i.customClass];var s}));function f(e){r("change",e)}return()=>{var o,r,u,f,b,y;switch(null==(o=null==t?void 0:t.control)?void 0:o.type){case null==(r=exports.FieldTypes)?void 0:r.TEXT:case"email":case"password":case"url":case"color":s=e.h(S,d.value);break;case"number":s=e.h(z,d.value);break;case"select":s=e.h(L,d.value);break;case"textarea":s=e.h(P,d.value);break;case"checkbox":s=e.h(c,d.value);break;case"radio":s=e.h(M,d.value);break;case"custom-field":s=e.h("slot",{name:"customField"},n.customField({control:t.control,onChange:a,onFocus:l,onBlur:i}))}const h=e.h("span",{ariaHidden:!0,class:"form-required-star"}," *");return e.h(v.value?"fieldset":"div",{class:m.value,style:null==t?void 0:t.control.customStyles,role:v.value?void 0:"group"},[p.value?e.h(v.value?"legend":"label",{class:"form-label",for:null==(u=null==t?void 0:t.control)?void 0:u.name},[`${null==(f=null==t?void 0:t.control)?void 0:f.label}`,(null==(y=null==(b=null==t?void 0:t.control)?void 0:b.validations)?void 0:y.some((e=>"required"===e.type)))?h:""]):null,s])}}});const X={"./components/checkbox-input/CheckboxInput.vue":d,"./components/dynamic-form/DynamicForm.vue":k,"./components/dynamic-input/DynamicInput.vue":Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:H}),"./components/number-input/NumberInput.vue":N,"./components/radio-input/RadioInput.vue":q,"./components/select-input/SelectInput.vue":A,"./components/text-area-input/TextAreaInput.vue":E,"./components/text-input/TextInput.vue":V},Z=Symbol("vdf");function K(){const o=e.inject(Z);if(!o)throw new Error("No dynamicForms provided!!!");return o}const G=e=>null==e||""===e,W=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Y=/^((?:(https?):\/\/)?((?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[0-9][0-9]|[0-9])\.(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[0-9][0-9]|[0-9])\.)(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[0-9][0-9]|[0-9])\.)(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[0-9][0-9]|[0-9]))|(?:(?:(?:\w+\.){1,2}[\w]{2,3})))(?::(\d+))?((?:\/[\w]+)*)(?:\/|(\/[\w]+\.[\w]{3,4})|(\?(?:([\w]+=[\w]+)&)*([\w]+=[\w]+))?|\?(?:(wsdl|wadl))))$/;exports.CheckboxField=({value:e,...o})=>({...x(o),value:e,type:exports.FieldTypes.CHECKBOX}),exports.ColorField=({value:e,...o})=>({...x(o),value:e,type:exports.FieldTypes.COLOR}),exports.CustomField=({value:e,...o})=>({...x(o),value:e,type:exports.FieldTypes.CUSTOM}),exports.EmailField=({value:e,...o})=>({...x(o),value:e,type:exports.FieldTypes.EMAIL}),exports.FieldBase=x,exports.FieldControl=O,exports.NumberField=({value:e=null,min:o=0,max:t=100,step:r=1,...n})=>({...x(n),value:e,min:o,max:t,step:r,type:exports.FieldTypes.NUMBER}),exports.PasswordField=({value:e,...o})=>({...x(o),value:e,type:exports.FieldTypes.PASSWORD}),exports.RadioField=({options:e,value:o,...t})=>({...x(t),value:o,options:e,type:exports.FieldTypes.RADIO}),exports.SelectField=({options:e=[],value:o,optionValue:t="value",optionLabel:r="label",...n})=>({...x(n),value:o,options:e,optionValue:t,optionLabel:r,type:exports.FieldTypes.SELECT}),exports.TextAreaField=({value:e,cols:o=20,rows:t=3,...r})=>({...x(r),value:e,cols:o,rows:t,type:exports.FieldTypes.TEXTAREA}),exports.TextField=({value:e,...o})=>({...x(o),value:e,type:exports.FieldTypes.TEXT}),exports.UrlField=({value:e,...o})=>({...x(o),value:e,type:exports.FieldTypes.URL}),exports.Validator=({validator:e,text:o})=>({type:e(void 0)?Object.keys(e(void 0))[0]:"pattern",validator:e,text:o}),exports.ValidatorTrigger=C,exports.createDynamicForms=function(e){const o={options:e,install(e){e.provide(Z,o),Object.entries(X).forEach((([o,t])=>{const r=o.split("/").pop().replace(/\.\w+$/,"");e.component(r,t.default)})),Object.defineProperty(e,"__VUE_DYNAMIC_FORMS_SYMBOL__",{get:()=>Z})}};return o},exports.dynamicFormsSymbol=Z,exports.email=e=>G(e)?{email:null}:{email:!W.test(`${e}`)||null},exports.isEmptyInputValue=G,exports.max=e=>o=>{if(G(o)||G(e))return{max:null};const t=parseFloat(`${o}`);return{max:!isNaN(t)&&t>e?{max:e,actual:+t}:null}},exports.maxLength=e=>o=>{if(G(o))return{maxLength:null};const t=o?`${o}`.length:0;return{maxLength:t>e?{requiredLength:e,actualLength:t}:null}},exports.min=e=>o=>{if(G(o)||G(e))return{min:null};const t=parseFloat(`${o}`);return{min:!isNaN(t)&&t<e?{min:e,actual:+t}:null}},exports.minLength=e=>o=>{if(G(o))return{minLength:null};const t=o?`${o}`.length:0;return{minLength:t<e?{requiredLength:e,actualLength:t}:null}},exports.pattern=e=>{if(!e)return null;let o,t;return"string"==typeof e?(t="","^"!==e.charAt(0)&&(t+="^"),t+=e,"$"!==e.charAt(e.length-1)&&(t+="$"),o=new RegExp(t)):(t=e,o=e),e=>{if(G(e))return{pattern:null};const r=e;return{pattern:o.test(r)?null:{requiredPattern:t,actualValue:e}}}},exports.required=e=>({required:!!G(e)||null}),exports.url=e=>G(e)?{url:null}:{url:!Y.test(`${e}`)||null},exports.useDynamicForms=K;
