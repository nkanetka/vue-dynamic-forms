/*!
 * @asigloo/vue-dynamic-forms v3.x.x
 * (c) 2021 Alvaro Saburido
 * @license MIT
 */
import{ref as e,computed as o,watch as t,defineComponent as n,h as l,toRaw as r,nextTick as a,onMounted as u,resolveComponent as i,openBlock as c,createBlock as s,mergeProps as d,withModifiers as p,Fragment as v,renderList as f,withCtx as m,renderSlot as b,createCommentVNode as y,inject as g}from"vue";const h=e=>!!e&&e.constructor===Object,O=e=>null!=e&&""!==e,C=e=>Object.keys(e).filter((o=>null!=e[o])).reduce(((o,t)=>"object"==typeof e[t]?{...o,[t]:C(e[t])}:{...o,[t]:e[t]}),{}),j=e=>{let o,t,n;if("object"!=typeof e||null===e)return e;for(n in o=Array.isArray(e)?[]:{},e)t=e[n],o[n]=j(t);return o};function x(n,l){const r=e(!1),a=o((()=>n.control.validations.some((e=>"required"===e.type)))),u=o((()=>n.control.validations.length>0));async function i(e=!1){if(e||(n.control.touched||n.control.dirty)&&u.value){let e={};const o=[],t=[];n.control.validations.forEach((e=>{const l=e.validator(n.control.value);"Promise"===l.constructor.name?t.push({validation:e.validator,text:e.text}):o.push({validation:l,text:e.text})})),t.length>0&&(r.value=!0,Promise.all(t.map((async({validation:e,text:o})=>({validation:await e(n.control.value),text:o})))).then((o=>{o.forEach((({validation:o,text:t})=>{const[n,l]=Object.entries(o)[0];e[n]=l?{value:l,text:t}:null})),r.value=!1,l("validate",{name:n.control.name,errors:e,valid:0===Object.keys(C(e)).length})}))),o.forEach((({validation:o,text:t})=>{if(o){const[n,l]=Object.entries(o)[0];e[n]=l?{value:l,text:t}:null}})),l("validate",{name:n.control.name,errors:e,valid:0===Object.keys(C(e)).length})}}const c=o((()=>{var e;const o=Object.values((null==(e=n.control)?void 0:e.errors)||{});return o.length>0?o.map((e=>e.text)):[]})),s=o((()=>[{"form-control--success":!r.value&&u.value&&n.control.errors&&n.control.valid&&n.control.dirty&&n.control.touched},{"form-control--error":!r.value&&!n.control.valid,"form-control--validating":r.value}])),d=o((()=>[{"checkbox-group--success":!r.value&&u.value&&n.control.errors&&n.control.valid&&n.control.dirty&&n.control.touched},{"checkbox-group--error":!r.value&&!n.control.valid,"checkbox-group--validating":r.value}])),p=o((()=>[{"radio-group--success":!r.value&&u.value&&n.control.errors&&n.control.valid&&n.control.dirty&&n.control.touched},{"radio-group--error":!r.value&&!n.control.valid,"radio-group--validating":r.value}]));return t((()=>n.forceValidation),(e=>{e&&i(e)})),{isPendingValidation:r,validate:i,getValidationClasses:s,getCheckboxValidationClasses:d,getRadioValidationClasses:p,isRequired:a,requiresValidation:u,errorMessages:c}}var _,B,S,k;function V(e,n){const{validate:l,getValidationClasses:r,getCheckboxValidationClasses:a,getRadioValidationClasses:u}=x(e,n);const i=o((()=>["form-control",...r.value])),c=o((()=>["checkbox-group",...a.value])),s=o((()=>["radio-group",...u.value]));return t((()=>{var o;return null==(o=null==e?void 0:e.control)?void 0:o.value}),((o,t)=>{o!==t&&n("change",{name:e.control.name,value:e.control.value})}),{immediate:!0}),{validate:l,onFocus:function(){n("focus",{name:e.control.name})},onInput:function(o){const t=o.target;o.stopImmediatePropagation(),e.control&&O(t.value)&&((!e.control.valid&&e.control.validationTrigger.type===_.BLUR||e.control.validationTrigger.type===_.CHANGE&&t.value.length>=e.control.validationTrigger.threshold)&&l(),n("change",{name:e.control.name,value:t.value}))},onChange:function(e){e.stopImmediatePropagation(),e.preventDefault()},onBlur:function(){n("blur",{name:e.control.name}),e.control.validationTrigger.type===_.BLUR&&l()},onCheck:function(o){const t=o.target;e.control&&(o.stopImmediatePropagation(),n("change",{name:e.control.name,value:t.checked}))},getClasses:i,getCheckboxClasses:c,getRadioClasses:s}}(B=_||(_={})).BLUR="blur",B.CHANGE="change",(k=S||(S={})).TEXT="text",k.TEXTAREA="textarea",k.SELECT="select",k.NUMBER="number",k.EMAIL="email",k.URL="url",k.PASSWORD="password",k.CHECKBOX="checkbox",k.RADIO="radio",k.CUSTOM="custom-field",k.COLOR="color";var L=n({name:"asCheckboxInput",inheritAttrs:!1,props:{control:Object,forceValidation:{type:Boolean,default:!1}},setup(e,{emit:o}){const{onCheck:t,onFocus:n,onBlur:r,getCheckboxClasses:a}=V(e,o),{errorMessages:u,isPendingValidation:i,isRequired:c}=x(e,o),s=l("span",{ariaHidden:!0,class:"form-required-star"}," *"),d=[l("input",{name:e.control.name||"",type:e.control.type,id:e.control.name,disabled:e.control.disabled,class:"checkbox-control",value:e.control.value,checked:e.control.value,required:c.value,readonly:e.control.readonly,ariaRequired:c.value,ariaLabel:e.control.ariaLabel,ariaLabelledBy:e.control.ariaLabelledBy,onFocus:n,onBlur:r,onChange:t}),l("label",{class:["checkbox-label"],for:e.control.name},[e.control.label,c.value?s:""])];return()=>[l("div",{class:a.value,tabIndex:-1,role:"group"},d),i.value?null:l("div",{class:"form-errors"},u.value.map((e=>l("p",{class:"form-error"},e))))]}}),w=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:L}),A=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self,{}),I={exports:{}},E={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.isDate=function(e){return e instanceof Date},e.isEmpty=function(e){return 0===Object.keys(e).length};var n=e.isObject=function(e){return null!=e&&"object"===(void 0===e?"undefined":t(e))};e.properObject=function(e){return n(e)&&!e.hasOwnProperty?o({},e):e}}(E),function(e,o,t){function n(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}Object.defineProperty(o,"__esModule",{value:!0});var l=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},r=function e(o,r){if(o===r)return{};if(!(0,t.isObject)(o)||!(0,t.isObject)(r))return r;var a=(0,t.properObject)(o),u=(0,t.properObject)(r),i=Object.keys(a).reduce((function(e,o){return u.hasOwnProperty(o)?e:l({},e,n({},o,void 0))}),{});return(0,t.isDate)(a)||(0,t.isDate)(u)?a.valueOf()==u.valueOf()?{}:u:Object.keys(u).reduce((function(o,r){if(!a.hasOwnProperty(r))return l({},o,n({},r,u[r]));var i=e(a[r],u[r]);return(0,t.isObject)(i)&&(0,t.isEmpty)(i)&&!(0,t.isDate)(i)?o:l({},o,n({},r,i))}),i)};o.default=r,e.exports=o.default}(I,I.exports,E);var P={exports:{}};!function(e,o,t){function n(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}Object.defineProperty(o,"__esModule",{value:!0});var l=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},r=function e(o,r){if(o===r||!(0,t.isObject)(o)||!(0,t.isObject)(r))return{};var a=(0,t.properObject)(o),u=(0,t.properObject)(r);return Object.keys(u).reduce((function(o,r){if(a.hasOwnProperty(r)){var i=e(a[r],u[r]);return(0,t.isObject)(i)&&(0,t.isEmpty)(i)?o:l({},o,n({},r,i))}return l({},o,n({},r,u[r]))}),{})};o.default=r,e.exports=o.default}(P,P.exports,E);var T={exports:{}};!function(e,o,t){function n(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}Object.defineProperty(o,"__esModule",{value:!0});var l=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},r=function e(o,r){if(o===r||!(0,t.isObject)(o)||!(0,t.isObject)(r))return{};var a=(0,t.properObject)(o),u=(0,t.properObject)(r);return Object.keys(a).reduce((function(o,r){if(u.hasOwnProperty(r)){var i=e(a[r],u[r]);return(0,t.isObject)(i)&&(0,t.isEmpty)(i)?o:l({},o,n({},r,i))}return l({},o,n({},r,void 0))}),{})};o.default=r,e.exports=o.default}(T,T.exports,E);var R={exports:{}};!function(e,o,t){function n(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}Object.defineProperty(o,"__esModule",{value:!0});var l=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},r=function e(o,r){if(o===r)return{};if(!(0,t.isObject)(o)||!(0,t.isObject)(r))return r;var a=(0,t.properObject)(o),u=(0,t.properObject)(r);return(0,t.isDate)(a)||(0,t.isDate)(u)?a.valueOf()==u.valueOf()?{}:u:Object.keys(u).reduce((function(o,r){if(a.hasOwnProperty(r)){var i=e(a[r],u[r]);return(0,t.isObject)(i)&&(0,t.isEmpty)(i)&&!(0,t.isDate)(i)?o:l({},o,n({},r,i))}return o}),{})};o.default=r,e.exports=o.default}(R,R.exports,E);var M={exports:{}};!function(e,o,t,n,l){Object.defineProperty(o,"__esModule",{value:!0});var r=i(t),a=i(n),u=i(l);function i(e){return e&&e.__esModule?e:{default:e}}var c=function(e,o){return{added:(0,r.default)(e,o),deleted:(0,a.default)(e,o),updated:(0,u.default)(e,o)}};o.default=c,e.exports=o.default}(M,M.exports,P.exports,T.exports,R.exports),function(e,o,t,n,l,r){Object.defineProperty(e,"__esModule",{value:!0}),e.detailedDiff=e.updatedDiff=e.deletedDiff=e.diff=e.addedDiff=void 0;var a=d(o),u=d(t),i=d(n),c=d(l),s=d(r);function d(e){return e&&e.__esModule?e:{default:e}}e.addedDiff=u.default,e.diff=a.default,e.deletedDiff=i.default,e.updatedDiff=c.default,e.detailedDiff=s.default}(A,I.exports,P.exports,T.exports,R.exports,M.exports);const F={dirty:!1,touched:!1,valid:!0,errors:null},q=({validations:e=[],label:o=null,ariaLabel:t=null,ariaLabelledBy:n=null,customClass:l=null,customStyles:r=null,disabled:a=!1,placeholder:u=null,autocomplete:i=null,readonly:c=!1,validationTrigger:s=Q({type:_.BLUR,threshold:0})})=>({validations:e,label:o,ariaLabel:t,ariaLabelledBy:n,customClass:l,customStyles:r,disabled:a,placeholder:u,autocomplete:i,readonly:c,validationTrigger:s}),D=({value:e,...o})=>({...q(o),value:e,type:S.TEXT}),z=({value:e,cols:o=20,rows:t=3,...n})=>({...q(n),value:e,cols:o,rows:t,type:S.TEXTAREA}),N=({value:e,...o})=>({...q(o),value:e,type:S.EMAIL}),$=({value:e,...o})=>({...q(o),value:e,type:S.PASSWORD}),U=({value:e,...o})=>({...q(o),value:e,type:S.URL}),H=({value:e,...o})=>({...q(o),value:e,type:S.CHECKBOX}),X=({value:e,...o})=>({...q(o),value:e,type:S.COLOR}),Z=({options:e,value:o,...t})=>({...q(t),value:o,options:e,type:S.RADIO}),K=({value:e=null,min:o=0,max:t=100,step:n=1,...l})=>({...q(l),value:e,min:o,max:t,step:n,type:S.NUMBER}),G=({options:e=[],value:o,optionValue:t="value",optionLabel:n="label",...l})=>({...q(l),value:o,options:e,optionValue:t,optionLabel:n,type:S.SELECT}),W=({value:e,...o})=>({...q(o),value:e,type:S.CUSTOM}),Y=({name:e,type:o,...t})=>({...t,name:e,type:o,...F}),J=({validator:e,text:o})=>({type:e(void 0)?Object.keys(e(void 0))[0]:"pattern",validator:e,text:o}),Q=({type:e,threshold:o})=>({type:e,threshold:o});const ee=e=>e();function oe(e,o=200){return function(e,o){return function(...t){e((()=>o.apply(this,t)),{fn:o,thisArg:this,args:t})}}(function(e){if(e<=0)return ee;let o;return t=>{o&&clearTimeout(o),o=setTimeout(t,e)}}(o),e)}var te=n({name:"asDynamicForm",props:{form:{type:Object,required:!0}},setup(n,l){const{options:i}=ye(),{controls:c,valueChange:s,formValues:d,handleSubmit:p,isValid:v,errors:f,deNormalizedScopedSlots:m,normalizedControls:b,formattedOptions:y,onBlur:g,onValidate:h,forceValidation:x,detectChanges:_,onOptionsChanged:B,validateAll:k,resetForm:V}=function(t,n,l){let i=j(r(t.fields));const c=e([]),s=e({resetAfterSubmit:!0,...null==l?void 0:l.form,...null==t?void 0:t.options}),d=e(!1),p=o((()=>Object.keys(n.slots))),v=o((()=>{const e={};return c.value.forEach((o=>{e[o.name]=o})),e})),f=o((()=>!c.value.some((e=>!e.valid)))),m=o((()=>C(c.value.reduce(((e,o)=>{const t={};return t[o.name]=o.type===S.NUMBER?parseFloat(`${o.value}`):o.value,{...e,...t}}),{})))),b=o((()=>c.value?c.value.reduce(((e,o)=>{if((Object.keys(o.errors||{})||[]).length>0){const t={};return t[o.name]=o.errors,{...e,...t}}return e}),{}):{})),y=o((()=>{const e=s.value;if(e){const{customClass:o,customStyles:t,method:n,netlify:l,netlifyHoneypot:r,autocomplete:a}=e;return{class:o,style:t,method:n,"data-netlify":l,"data-netlify-honeypot":r,autocomplete:a?"on":"off"}}}));function g(e=!1){const o=Object.entries(null==t?void 0:t.fields).map((([o,t])=>Y(e?{...t,name:o,value:t.type!==S.CHECKBOX&&null}:{...t,name:o})))||[];t.fieldOrder?c.value=o.sort(((e,o)=>t.fieldOrder.indexOf(e.name)-t.fieldOrder.indexOf(o.name))):c.value=o,e&&x(m.value)}function h(e){return c.value.find((o=>o.name===e))}const x=oe((function(e){n.emit("change",e)}),300);function _(){g(!0),d.value=!1}function B(){d.value=!0}return u((()=>{g()})),{controls:c,mapControls:g,valueChange:function(e){if(O(e.value)){const o=h(e.name);o&&(o.value=e.value,o.dirty=!0),x(m.value)}},formValues:m,formOptions:s,handleSubmit:async function(){B(),await a(),f.value?(n.emit("submitted",m.value),s.value.resetAfterSubmit&&_()):n.emit("error",b.value)},isValid:f,errors:b,deNormalizedScopedSlots:p,normalizedControls:v,formattedOptions:y,onBlur:function({name:e}){const o=h(e);o&&(o.touched=!0)},onValidate:function({name:e,errors:o,valid:t}){const n=h(e);n&&(n.errors=C({...n.errors,...o}),n.valid=t)},forceValidation:d,validateAll:B,findControlByName:h,resetForm:_,detectChanges:function(e){const o=A.diff(i,j(e));Object.entries(o).forEach((([e,o])=>{const t=h(e);t&&Object.entries(o).forEach((([e,o])=>{"options"===e||"validations"===e?Object.entries(o).forEach((([o,n])=>{t[e][o]={...t[e][o],...n}})):t[e]=o}))})),i=j(r(e))},onOptionsChanged:function(e){Object.assign(s.value,e)}}}(n.form,l,i||{});return t((()=>n.form.fields),(e=>{_(e)}),{deep:!0}),t((()=>n.form.fields),(e=>{B(e)}),{deep:!0}),{controls:c,valueChange:s,formValues:d,handleSubmit:p,isValid:v,errors:f,deNormalizedScopedSlots:m,normalizedControls:b,formattedOptions:y,onBlur:g,onValidate:h,forceValidation:x,validateAll:k,resetForm:V}}});te.render=function(e,o,t,n,l,r){const a=i("dynamic-input");return c(),s("form",d({class:"dynamic-form",novalidate:"",id:e.form.id,name:e.form.id},e.formattedOptions,{onSubmit:o[1]||(o[1]=p(((...o)=>e.handleSubmit&&e.handleSubmit(...o)),["prevent"]))}),[(c(!0),s(v,null,f(e.controls,(o=>(c(),s(a,{key:o.name,control:o,forceValidation:e.forceValidation,onChange:e.valueChange,onBlur:e.onBlur,onValidate:e.onValidate},{customField:m((o=>[(c(!0),s(v,null,f(e.deNormalizedScopedSlots,(t=>(c(),s("div",{key:t,class:"custom-form-wrapper"},[o.control.name===t?b(e.$slots,t,{key:0,control:e.normalizedControls[t],onChange:o.onChange,onBlur:o.onBlur}):y("",!0)])))),128))])),_:2},1032,["control","forceValidation","onChange","onBlur","onValidate"])))),128))],16,["id","name"])};var ne=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:te});var le=n({name:"asTextInput",inheritAttrs:!1,props:{control:Object,forceValidation:{type:Boolean,default:!1}},setup(e,{emit:o}){const{onInput:t,onChange:n,onFocus:r,onBlur:a,getClasses:u}=V(e,o),{isRequired:i,errorMessages:c,isPendingValidation:s}=x(e,o);return()=>[l("input",{id:e.control.name,name:e.control.name||"",type:e.control.type,class:u.value,value:e.control.value,disabled:e.control.disabled,placeholder:e.control.placeholder,required:i.value,readonly:e.control.readonly,autocomplete:e.control.autocomplete,ariaRequired:i.value,ariaLabel:e.control.ariaLabel,ariaLabelledBy:e.control.ariaLabelledBy,onFocus:r,onBlur:a,onInput:t,onChange:n}),s.value?null:l("div",{class:"form-errors"},c.value.map((e=>l("p",{class:"form-error"},e))))]}}),re=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:le});var ae=n({name:"asSelectInput",inheritAttrs:!1,props:{control:Object,forceValidation:{type:Boolean,default:!1}},setup:(e,{emit:t})=>()=>{var n;const{onInput:r,onChange:a,onFocus:u,onBlur:i,getClasses:c}=V(e,t),{isRequired:s,errorMessages:d,isPendingValidation:p}=x(e,t),v=o((()=>{var o,t,n;return h(null==(o=null==e?void 0:e.control)?void 0:o.options)?Object.values(null==(t=null==e?void 0:e.control)?void 0:t.options):null==(n=null==e?void 0:e.control)?void 0:n.options})),f=null==(n=null==v?void 0:v.value)?void 0:n.map((o=>l("option",{key:o[e.control.optionValue],value:o[e.control.optionValue],disabled:o.disabled},o[e.control.optionLabel])));return[l("select",{id:e.control.name,name:e.control.name||"",class:c.value,value:e.control.value,disabled:e.control.disabled,placeholder:e.control.placeholder,required:s.value,readonly:e.control.readonly,ariaLabel:e.control.ariaLabel,ariaLabelledBy:e.control.ariaLabelledBy,ariaRequired:s.value,onFocus:u,onBlur:i,onInput:r,onChange:a},f),p.value?null:l("div",{class:"form-errors"},d.value.map((e=>l("p",{class:"form-error"},e))))]}}),ue=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ae});var ie=n({name:"asTextAreaInput",inheritAttrs:!1,props:{control:Object,forceValidation:{type:Boolean,default:!1}},setup(e,{emit:o}){const{onInput:t,onChange:n,onFocus:r,onBlur:a,getClasses:u}=V(e,o),{isRequired:i,errorMessages:c,isPendingValidation:s}=x(e,o);return()=>[l("textarea",{id:e.control.name,name:e.control.name||"",class:u.value,value:e.control.value,rows:e.control.rows,cols:e.control.cols,disabled:e.control.disabled,placeholder:e.control.placeholder,required:i.value,autocomplete:e.control.autocomplete,readonly:e.control.readonly,ariaLabel:e.control.ariaLabel,ariaLabelledBy:e.control.ariaLabelledBy,ariaRequired:i.value,onFocus:r,onBlur:a,onInput:t,onChange:n}),s.value?null:l("div",{class:"form-errors"},c.value.map((e=>l("p",{class:"form-error"},e))))]}}),ce=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ie});var se=n({name:"asRadioInput",inheritAttrs:!1,props:{control:Object,forceValidation:{type:Boolean,default:!1}},setup(e,{emit:o}){var t,n;const{onCheck:r,onInput:a,onFocus:u,onBlur:i,getRadioClasses:c}=V(e,o),{errorMessages:s,isPendingValidation:d}=x(e,o),p=null==(n=null==(t=null==e?void 0:e.control)?void 0:t.options)?void 0:n.map((o=>{var t,n,c;return l("div",{class:"radio-input"},[l("input",{name:(null==(t=null==e?void 0:e.control)?void 0:t.name)||"",type:null==(n=null==e?void 0:e.control)?void 0:n.type,id:o.key,disabled:o.disabled||(null==(c=null==e?void 0:e.control)?void 0:c.disabled),checked:e.control.value===o.key,class:["radio-control"],value:o.key,onFocus:u,onBlur:i,onInput:a,onCheck:r}),l("label",{class:["radio-label"],for:o.key},o.value)])}));return()=>[l("div",{class:c.value,tabIndex:-1,role:"group"},p),d.value?null:l("div",{class:"form-errors"},s.value.map((e=>l("p",{class:"form-error"},e))))]}}),de=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:se});var pe=n({name:"asNumberInput",inheritAttrs:!1,props:{control:Object,forceValidation:{type:Boolean,default:!1}},setup(e,{emit:o}){const{onInput:t,onChange:n,onFocus:r,onBlur:a,getClasses:u}=V(e,o),{isRequired:i,errorMessages:c,isPendingValidation:s}=x(e,o);return()=>[l("input",{id:e.control.name,name:e.control.name||"",type:e.control.type,class:u.value,value:e.control.value,min:e.control.min,max:e.control.max,step:e.control.step,disabled:e.control.disabled,placeholder:e.control.placeholder,required:i.value,readonly:e.control.readonly,autocomplete:e.control.autocomplete,ariaLabel:e.control.ariaLabel,ariaLabelledBy:e.control.ariaLabelledBy,ariaRequired:i.value,onFocus:r,onBlur:a,onInput:t,onChange:n}),s.value?null:l("div",{class:"form-errors"},c.value.map((e=>l("p",{class:"form-error"},e))))]}}),ve=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:pe});var fe=n({name:"asDynamicInput",components:{TextInputComponent:le,SelectInputComponent:ae,TextAreaInputComponent:ie,CheckboxInputComponent:L,RadioInputComponent:se,NumberInputComponent:pe},inheritAttrs:!1,props:{control:{type:Object,required:!0},forceValidation:{type:Boolean,default:!1}},setup(e,{emit:t,slots:n}){const{onFocus:r,onInput:a,onBlur:u}=V(e,t);let i;const c=o((()=>({control:null==e?void 0:e.control,onChange:v,onBlur:e=>t("blur",e),onFocus:e=>t("focus",e),onValidate:e=>t("validate",e),forceValidation:e.forceValidation}))),s=o((()=>{var o,t;return(null==(o=null==e?void 0:e.control)?void 0:o.label)&&"checkbox"!==(null==(t=null==e?void 0:e.control)?void 0:t.type)})),d=o((()=>{var o;return"radio"===(null==(o=null==e?void 0:e.control)?void 0:o.type)})),p=o((()=>{var o,t,n,l,r,a;const u=["dynamic-input","form-group",{"form-group--inline":(null==(o=null==e?void 0:e.control)?void 0:o.type)===S.CHECKBOX}];return(i=null==(t=null==e?void 0:e.control)?void 0:t.customClass)&&i.constructor===Array?[...u,...null==(n=null==e?void 0:e.control)?void 0:n.customClass]:h(null==(l=null==e?void 0:e.control)?void 0:l.customClass)?[...u,null==(r=null==e?void 0:e.control)?void 0:r.customClass]:[u,null==(a=null==e?void 0:e.control)?void 0:a.customClass];var i}));function v(e){t("change",e)}return()=>{var o,t,v,f,m;switch(null==(o=null==e?void 0:e.control)?void 0:o.type){case null==S?void 0:S.TEXT:case"email":case"password":case"url":case"color":i=l(le,c.value);break;case"number":i=l(pe,c.value);break;case"select":i=l(ae,c.value);break;case"textarea":i=l(ie,c.value);break;case"checkbox":i=l(L,c.value);break;case"radio":i=l(se,c.value);break;case"custom-field":i=l("slot",{name:"customField"},n.customField({control:e.control,onChange:a,onFocus:r,onBlur:u}))}const b=l("span",{ariaHidden:!0,class:"form-required-star"}," *");return l(d.value?"fieldset":"div",{class:p.value,style:null==e?void 0:e.control.customStyles,role:d.value?void 0:"group"},[s.value?l(d.value?"legend":"label",{class:"form-label",for:null==(t=null==e?void 0:e.control)?void 0:t.name},[`${null==(v=null==e?void 0:e.control)?void 0:v.label}`,(null==(m=null==(f=null==e?void 0:e.control)?void 0:f.validations)?void 0:m.some((e=>"required"===e.type)))?b:""]):null,i])}}});const me={"./components/checkbox-input/CheckboxInput.vue":w,"./components/dynamic-form/DynamicForm.vue":ne,"./components/dynamic-input/DynamicInput.vue":Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:fe}),"./components/number-input/NumberInput.vue":ve,"./components/radio-input/RadioInput.vue":de,"./components/select-input/SelectInput.vue":ue,"./components/text-area-input/TextAreaInput.vue":ce,"./components/text-input/TextInput.vue":re},be=Symbol("vdf");function ye(){const e=g(be);if(!e)throw new Error("No dynamicForms provided!!!");return e}function ge(e){const o={options:e,install(e){e.provide(be,o),Object.entries(me).forEach((([o,t])=>{const n=o.split("/").pop().replace(/\.\w+$/,"");e.component(n,t.default)})),Object.defineProperty(e,"__VUE_DYNAMIC_FORMS_SYMBOL__",{get:()=>be})}};return o}const he=e=>null==e||""===e,Oe=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Ce=/^((?:(https?):\/\/)?((?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[0-9][0-9]|[0-9])\.(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[0-9][0-9]|[0-9])\.)(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[0-9][0-9]|[0-9])\.)(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[0-9][0-9]|[0-9]))|(?:(?:(?:\w+\.){1,2}[\w]{2,3})))(?::(\d+))?((?:\/[\w]+)*)(?:\/|(\/[\w]+\.[\w]{3,4})|(\?(?:([\w]+=[\w]+)&)*([\w]+=[\w]+))?|\?(?:(wsdl|wadl))))$/,je=e=>({required:!!he(e)||null}),xe=e=>o=>{if(he(o)||he(e))return{min:null};const t=parseFloat(`${o}`);return{min:!isNaN(t)&&t<e?{min:e,actual:+t}:null}},_e=e=>o=>{if(he(o)||he(e))return{max:null};const t=parseFloat(`${o}`);return{max:!isNaN(t)&&t>e?{max:e,actual:+t}:null}},Be=e=>he(e)?{email:null}:{email:!Oe.test(`${e}`)||null},Se=e=>he(e)?{url:null}:{url:!Ce.test(`${e}`)||null},ke=e=>o=>{if(he(o))return{minLength:null};const t=o?`${o}`.length:0;return{minLength:t<e?{requiredLength:e,actualLength:t}:null}},Ve=e=>o=>{if(he(o))return{maxLength:null};const t=o?`${o}`.length:0;return{maxLength:t>e?{requiredLength:e,actualLength:t}:null}},Le=e=>{if(!e)return null;let o,t;return"string"==typeof e?(t="","^"!==e.charAt(0)&&(t+="^"),t+=e,"$"!==e.charAt(e.length-1)&&(t+="$"),o=new RegExp(t)):(t=e,o=e),e=>{if(he(e))return{pattern:null};const n=e;return{pattern:o.test(n)?null:{requiredPattern:t,actualValue:e}}}};export{H as CheckboxField,X as ColorField,W as CustomField,N as EmailField,q as FieldBase,Y as FieldControl,S as FieldTypes,K as NumberField,$ as PasswordField,Z as RadioField,G as SelectField,z as TextAreaField,D as TextField,U as UrlField,_ as ValidationTriggerTypes,J as Validator,Q as ValidatorTrigger,ge as createDynamicForms,be as dynamicFormsSymbol,Be as email,he as isEmptyInputValue,_e as max,Ve as maxLength,xe as min,ke as minLength,Le as pattern,je as required,Se as url,ye as useDynamicForms};
